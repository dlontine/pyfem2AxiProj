<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3.2. The finite element mesh &mdash; pyfem2 3.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="pyfem2 3.0 documentation" href="../index.html" />
    <link rel="up" title="3. Defining a Model" href="index.html" />
    <link rel="next" title="3.3. Element blocks" href="ElementBlocks.html" />
    <link rel="prev" title="3.1. The finite element model" href="Model.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-finite-element-mesh">
<span id="meshdefinition"></span><h1>3.2. The finite element mesh<a class="headerlink" href="#the-finite-element-mesh" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>3.2.1. Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The finite element mesh</p>
<ul class="simple">
<li>is a collection of nodes and elements defining the geometry of the problem;</li>
<li>is the fundamental object on which the finite element model is built; and</li>
<li>is represented as an instance of the <code class="docutils literal"><span class="pre">Mesh</span></code> class in <code class="docutils literal"><span class="pre">pyfem2</span></code>.</li>
</ul>
</div>
<div class="section" id="nodes">
<span id="nodedefinition"></span><h2>3.2.2. Nodes<a class="headerlink" href="#nodes" title="Permalink to this headline">¶</a></h2>
<p>A node is a coordinate location in space where degrees of freedom are
defined. A node definition consists of:</p>
<ul class="simple">
<li>a node label, and</li>
<li>the node coordinates.</li>
</ul>
<div class="section" id="defining-nodes">
<h3>3.2.2.1. Defining nodes<a class="headerlink" href="#defining-nodes" title="Permalink to this headline">¶</a></h3>
<p>A node label is a positive integer by which the node is identified. Node
labels are also referred to as external node numbers. Node labels do not
need to be numbered continuous. Individual node labels are consistently
identified by symbols or . All external communication uses external node
labels.</p>
<p>The node coordinates are defined as their position in a regular
Cartesian space. The coordinate system is shown in Figure
[fig:nodandel.coords].</p>
<div class="figure align-center" id="id1">
<img alt="../_images/Node1.png" src="../_images/Node1.png" />
<p class="caption"><span class="caption-text">Node coordinates in Cartesian space.</span></p>
</div>
<p>Nodes are defined in a two-dimensional list where is a sublist defining
the node label and nodal coordinates of the n<span class="math">\(^{\rm th}\)</span> node.
For example, the node definition for node at coordinate location
<span class="math">\(P_n\)</span> in Figure [fig:nodandel.coords] is</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">node_n</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="n">xn</span><span class="p">,</span> <span class="n">yn</span><span class="p">,</span> <span class="n">zn</span><span class="p">]</span>
</pre></div>
</div>
<p>The collection of nodes is</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">nodtab</span> <span class="o">=</span> <span class="p">[</span><span class="n">node_1</span><span class="p">,</span> <span class="n">node_2</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">node_n</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">node_N</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="elements">
<span id="elementdefinition"></span><h2>3.2.3. Elements<a class="headerlink" href="#elements" title="Permalink to this headline">¶</a></h2>
<p>An element is a mathematical relation that defines how the degrees of
freedom of a node relate to the next. An element definition consists of</p>
<ul class="simple">
<li>an element type,</li>
<li>an element label, and</li>
<li>list of node labels forming the element.</li>
</ul>
<p>The element type ID is a unique ID defined in <code class="docutils literal"><span class="pre">pyfem</span></code>. See <a class="reference internal" href="../ElementLibrary/index.html#elementlibrary"><span>Element Library</span></a> for description of each element type.</p>
<div class="section" id="defining-elements">
<h3>3.2.3.1. Defining elements<a class="headerlink" href="#defining-elements" title="Permalink to this headline">¶</a></h3>
<p>An element label is a positive integer by which the element is
identified. Element labels do not need to be numbered continuously.
Individual element labels are consistently identified by symbols or .
All external communication uses external element labels.</p>
<p>The node labels forming the element refer to the external node labels.
Node labels must be ordered as required by the element type.</p>
<p>Elements are defined in a two-dimensional list where is a sublist
defining the element label, element type, and external node labels of
nodes forming element . For example, the definition for element in
Figure [fig:nodandel.elem1] is</p>
<div class="figure align-center" id="id2">
<img alt="../_images/Element1.png" src="../_images/Element1.png" />
<p class="caption"><span class="caption-text">Element e</span></p>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">elem_e</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="p">,</span> <span class="n">eletyp_e</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
</pre></div>
</div>
<p>and the collection of elements is</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">eletab</span> <span class="o">=</span> <span class="p">[</span><span class="n">elem_1</span><span class="p">,</span> <span class="n">elem_2</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">elem_e</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">elem_M</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="creating-a-mesh">
<h2>3.2.4. Creating a mesh<a class="headerlink" href="#creating-a-mesh" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">Mesh</span></code> object can be created in several ways, as will be illustrated with the simple single element mesh of a unit square centered at the origin:</p>
<a class="reference internal image-reference" href="../_images/unitsquare1.png"><img alt="../_images/unitsquare1.png" class="align-center" src="../_images/unitsquare1.png" style="width: 453.95px; height: 211.39999999999998px;" /></a>
<div class="section" id="method-1">
<h3>3.2.4.1. Method 1<a class="headerlink" href="#method-1" title="Permalink to this headline">¶</a></h3>
<p>Create the mesh by specifying <code class="docutils literal"><span class="pre">nodtab</span></code> and <code class="docutils literal"><span class="pre">eletab</span></code>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">nodtab</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">10</span><span class="p">,</span> <span class="o">-.</span><span class="mi">5</span><span class="p">,</span> <span class="o">-.</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">-.</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">]]</span>
<span class="n">eletab</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]]</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">(</span><span class="n">nodtab</span><span class="o">=</span><span class="n">nodtab</span><span class="p">,</span> <span class="n">eletab</span><span class="o">=</span><span class="n">eletab</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="method-2">
<h3>3.2.4.2. Method 2<a class="headerlink" href="#method-2" title="Permalink to this headline">¶</a></h3>
<p>Defining a mesh manually with the <code class="docutils literal"><span class="pre">nodtab</span></code> and <code class="docutils literal"><span class="pre">eletab</span></code> is impractical for all but the simplest problems.  <code class="docutils literal"><span class="pre">pyfem2</span></code> allows reading in meshes created in third-party preprocessors.  To read an <a class="reference external" href="http://prod.sandia.gov/techlib/access-control.cgi/1992/922137.pdf">ExodusII</a> formatted mesh:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;unitsquare.g&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">Mesh</span></code> recognizes ExodusII and <a class="reference external" href="www.vtk.org">vtk</a> mesh files.  The convenience methods <code class="docutils literal"><span class="pre">mesh</span> <span class="pre">=</span> <span class="pre">GenesisMesh</span></code> and <code class="docutils literal"><span class="pre">mesh</span> <span class="pre">=</span> <span class="pre">VTKMesh</span></code> is equivalent to <code class="docutils literal"><span class="pre">mesh</span> <span class="pre">=</span> <span class="pre">Mesh(filename=...)</span></code>.</p>
</div>
<div class="section" id="method-3">
<h3>3.2.4.3. Method 3<a class="headerlink" href="#method-3" title="Permalink to this headline">¶</a></h3>
<p>Directly specify the nodal coordinates <code class="docutils literal"><span class="pre">p</span></code> and element connectivity array <code class="docutils literal"><span class="pre">t</span></code>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[</span><span class="o">-.</span><span class="mi">5</span><span class="p">,</span> <span class="o">-.</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">-.</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="o">-.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">]])</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>If <code class="docutils literal"><span class="pre">p</span></code> and <code class="docutils literal"><span class="pre">t</span></code> are specified, node labels are assigned to nodes in the
order they appear in the nodal coordinates array <code class="docutils literal"><span class="pre">p</span></code> and take values of
<code class="docutils literal"><span class="pre">0</span></code> to <code class="docutils literal"><span class="pre">n-1</span></code>, where <code class="docutils literal"><span class="pre">n</span></code> is the length of <code class="docutils literal"><span class="pre">p</span></code>. The element
connectivity array <code class="docutils literal"><span class="pre">t</span></code> must use this numbering scheme. This method is
useful for creating meshes using triangulations created by the
<a class="reference external" href="https://github.com/bfroehle/pydistmesh">pydistmesh</a> module.</p>
</div>
<div class="section" id="method-4">
<h3>3.2.4.4. Method 4<a class="headerlink" href="#method-4" title="Permalink to this headline">¶</a></h3>
<p>Regular rectilinear meshes with linear quadratic elements can be created by</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">10</span>
<span class="n">lx</span><span class="p">,</span> <span class="n">ly</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">RectlinearMesh2D</span><span class="p">(</span><span class="n">nx</span><span class="o">=</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="o">=</span><span class="n">ny</span><span class="p">,</span> <span class="n">lx</span><span class="o">=</span><span class="n">lx</span><span class="p">,</span> <span class="n">ly</span><span class="o">=</span><span class="n">ly</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">nx</span></code> and <code class="docutils literal"><span class="pre">ny</span></code> are the numer of elements in the <span class="math">\(x\)</span> and <span class="math">\(y\)</span> coordinate directions and <code class="docutils literal"><span class="pre">lx</span></code> and <code class="docutils literal"><span class="pre">ly</span></code> are the respective lengths.</p>
</div>
<div class="section" id="mutual-exclusivity-of-creation-methods-1-3">
<h3>3.2.4.5. Mutual exclusivity of creation methods 1-3<a class="headerlink" href="#mutual-exclusivity-of-creation-methods-1-3" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">nodtab/eletab</span></code>, <code class="docutils literal"><span class="pre">filename</span></code>, and <code class="docutils literal"><span class="pre">p/t</span></code> arguments are mutually exclusive.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">pyfem2</a></h1>





<p>
<iframe src="https://ghbtns.com/github-btn.html?user=tjfulle&repo=pyfem2&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>




<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Introduction/index.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials/index.html">2. <code class="docutils literal"><span class="pre">pyfem2</span></code> Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">3. Defining a Model</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Model.html">3.1. The finite element model</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">3.2. The finite element mesh</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">3.2.1. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nodes">3.2.2. Nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#elements">3.2.3. Elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-mesh">3.2.4. Creating a mesh</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ElementBlocks.html">3.3. Element blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="Materials.html">3.4. Material models</a></li>
<li class="toctree-l2"><a class="reference internal" href="Properties.html">3.5. Element Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="Sets.html">3.6. Entity sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="Boundary.html">3.7. Boundary conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Loading.html">3.8. Loading conditions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ElementLibrary/index.html">4. Element Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Implementation/index.html">5. Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Topics/index.html">6. Topics in FEM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/index.html">7. <code class="docutils literal"><span class="pre">pyfem2</span></code> Source</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">3. Defining a Model</a><ul>
      <li>Previous: <a href="Model.html" title="previous chapter">3.1. The finite element model</a></li>
      <li>Next: <a href="ElementBlocks.html" title="next chapter">3.3. Element blocks</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Tim Fuller.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="../_sources/ModelDefinition/Mesh.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>